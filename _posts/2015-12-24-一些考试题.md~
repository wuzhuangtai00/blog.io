---
layout: post
title: '杂题选做'
date: 2015-12-17 11:34
comments: true
categories: 
---
<br>
<br>
<div align="center"><span style="font-size:80px;color:#7bbfea;"   >2</span></p></div>
<br>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>
<!--more-->
1.Codeforces 235C<br>
题目大意:给你一个母串和n个串。。每次询问有多少个子串与某个询问串循环同构<br>
Sol:<br>
暴力SAM..每次把询问串延长一倍往上走..如果超过len就试着往parent走否则会漏数..<br>
2.Codeforces 235D<br>
题目大意:对一个环套树点分治，求总代价<br>
Sol:<br>
先考虑树上..答案显然是$$\sum_i \sum_j \frac{1}{dist(i,j)+1}$$
因为考虑..如果$$i$$对$$j$$能产生贡献..那么就要求$$i$$是$$j$$路径上第一个被选中的..这个概率就是$$\frac{1}{dist(i,j)+1}$$
那么环套树上..如果在一棵树上..就还是上面那个式子
不然就是第一路径联通概率加上第二路径联通概率减去两个路径都联通概率
即$$\frac{1}{dist_1(i,j)}+\frac{1}{dist_2(i,j)}-\frac{1}{dist_{tocycle}(x)+dist_{tocycle}(y)+|cycle|$$
