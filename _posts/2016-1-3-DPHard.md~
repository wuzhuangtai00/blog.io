---
layout: post
title: 'DPHard'
date: 2016-1-3 09:33
comments: true
categories: 
---

<del>你们都在练FFT了，然而窝只会做DP</del>

---

<br>
<br>
<div align="center"><span style="font-size:80px;color:#7bbfea;"   >２</span></p></div>
<br>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>
<!--more-->

---

2016.1.3 SRM 524 1000pts

题意:给你一个立体图形的左视图和前视图。问有多少个立体图形符合要求

**sol:**

考虑按高度从小到大分步计算答案。每次把高度相同的放在一起做

每次高度相同的可能会有若干行若干列..

注意到删点是一行行一列列删的..所以当前行还剩的点数是每一行的总点数-删去的列数..列亦然

所以窝们要求的就是..现在这个高度下..对所有没有被覆盖的点给一个高度..使得这若干行若干列都至少有一个点达到了现在这个点的高度的方案数

那么考虑容斥..窝们算$$i$$行$$j$$列炸了。。那么贡献就是$$(h+1)^{未炸点数}\times h^{已炸点数}$$,已炸点数和未炸点数可以通过上面的方法轻易地算出来...并且容易脑补出如果$$odd(i+j)$$,那么贡献就是负的..否则就是正的...记得贡献还要乘上个组合数

那么再把每一个高度的总贡献乘起来就好啦


---

2015.1.4 SRM 565 1000pts

题意:三个特殊点A,B,C并知道其他n个点到A,B,C的距离，求这样的树的个数。树有边权。

**sol:**

先考虑只有一个点的情况。答案显然是$$\prod_i(1+\sum_j dis_j<dis_i)$$

考虑两个特殊点情况。由一个点显然可以确定两个特殊点之间距离.知道了在哪里之后那么每个点就一定在这两条路径之间某个距离的子树下..图大概长这样..![](http://7xoz7t.com1.z0.glb.clouddn.com/phoyo.jpg)

然后对同一棵子树里的东西套用上述方法就好啦..

考虑三个特殊点情况。只可能是Y形或一条链。一条链就枚举中间特殊点。Y形就枚举中间点。套用算法二进行计算就好啦

时间复杂度$$O(n^2logn)$$
